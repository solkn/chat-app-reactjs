{"ast":null,"code":"import { UserActionTypes } from \"./types\";\nimport Cookies from \"js-cookie\";\nconst authCookies = Cookies.get(\"AUTH\") || JSON.stringify({});\nconst INITIAL_STATE = {\n  loginLoading: false,\n  signUpLoading: false,\n  searchUsersLoading: false,\n  fetchUsersLoading: false,\n  user: null,\n  users: null,\n  token: null,\n  signUpError: null,\n  loginError: null,\n  searchUserError: null,\n  fetchUsersError: null,\n  ...JSON.parse(authCookies)\n};\n\nconst reducer = (state = INITIAL_STATE, action) => {\n  switch (action.type) {\n    case UserActionTypes.LOGIN_START:\n      return { ...state,\n        loginError: null,\n        loginLoading: true\n      };\n\n    case UserActionTypes.LOGIN_SUCCESS:\n      Cookies.set(\"AUTH\", JSON.stringify({\n        user: action.payload.user,\n        token: action.payload.token\n      }));\n      return { ...state,\n        loginLoading: false,\n        user: action.payload.user,\n        token: action.payload.token\n      };\n\n    case UserActionTypes.LOGIN_ERROR:\n      return { ...state,\n        loginLoading: false,\n        loginError: action.payload.error\n      };\n\n    case UserActionTypes.SIGN_UP_START:\n      return { ...state,\n        signUpError: null,\n        signUpLoading: true\n      };\n\n    case UserActionTypes.SIGN_UP_SUCCESS:\n      Cookies.set(\"AUTH\", JSON.stringify({\n        user: action.payload.user,\n        token: action.payload.token\n      }));\n      return { ...state,\n        signUpLoading: false,\n        user: action.payload.user,\n        token: action.payload.token\n      };\n\n    case UserActionTypes.SIGN_UP_ERROR:\n      return { ...state,\n        signUpLoading: false,\n        signUpError: action.payload.error\n      };\n\n    case UserActionTypes.USERS_SEARCH_START:\n      return { ...state,\n        searchUsersError: null,\n        searchUsersLoading: true\n      };\n\n    case UserActionTypes.USERS_SEARCH_SUCCESS:\n      return { ...state,\n        searchUsersLoading: false,\n        users: action.payload.users\n      };\n\n    case UserActionTypes.USERS_SEARCH_ERROR:\n      return { ...state,\n        searchUsersLoading: false,\n        searchUsersError: action.payload.error\n      };\n\n    case UserActionTypes.LOG_OUT:\n      Cookies.remove(\"AUTH\");\n      return { ...state,\n        user: null,\n        token: null\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default reducer;","map":{"version":3,"sources":["/home/sol/github.com/solkn/chat-app-reactjs/src/store/user/reducer.js"],"names":["UserActionTypes","Cookies","authCookies","get","JSON","stringify","INITIAL_STATE","loginLoading","signUpLoading","searchUsersLoading","fetchUsersLoading","user","users","token","signUpError","loginError","searchUserError","fetchUsersError","parse","reducer","state","action","type","LOGIN_START","LOGIN_SUCCESS","set","payload","LOGIN_ERROR","error","SIGN_UP_START","SIGN_UP_SUCCESS","SIGN_UP_ERROR","USERS_SEARCH_START","searchUsersError","USERS_SEARCH_SUCCESS","USERS_SEARCH_ERROR","LOG_OUT","remove"],"mappings":"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","sourcesContent":["import { UserActionTypes } from \"./types\";\nimport Cookies from \"js-cookie\";\n\nconst authCookies = Cookies.get(\"AUTH\") || JSON.stringify({});\nconst INITIAL_STATE = {\n  loginLoading: false,\n  signUpLoading: false,\n  searchUsersLoading:false,\n  fetchUsersLoading:false,\n  user: null,\n  users:null,\n  token: null,\n  signUpError: null,\n  loginError: null,\n  searchUserError:null,\n  fetchUsersError:null,\n\n  ...JSON.parse(authCookies),\n};\n\nconst reducer = (state = INITIAL_STATE, action) => {\n  switch (action.type) {\n    case UserActionTypes.LOGIN_START:\n      return {\n        ...state,\n        loginError: null,\n        loginLoading: true,\n      };\n    case UserActionTypes.LOGIN_SUCCESS:\n      Cookies.set(\n        \"AUTH\",\n        JSON.stringify({\n          user: action.payload.user,\n          token: action.payload.token,\n        })\n      );\n      return {\n        ...state,\n        loginLoading: false,\n        user: action.payload.user,\n        token: action.payload.token,\n      };\n    case UserActionTypes.LOGIN_ERROR:\n      return {\n        ...state,\n        loginLoading: false,\n        loginError: action.payload.error,\n      };\n\n    case UserActionTypes.SIGN_UP_START:\n      return {\n        ...state,\n        signUpError: null,\n        signUpLoading: true,\n      };\n   case UserActionTypes.SIGN_UP_SUCCESS:\n      Cookies.set(\n        \"AUTH\",\n        JSON.stringify({\n          user: action.payload.user,\n          token: action.payload.token,\n        })\n      );\n      return {\n        ...state,\n        signUpLoading: false,\n        user: action.payload.user,\n        token: action.payload.token,\n      };\n    case UserActionTypes.SIGN_UP_ERROR:\n      return {\n        ...state,\n        signUpLoading: false,\n        signUpError: action.payload.error,\n      };\n\n\n      case UserActionTypes.USERS_SEARCH_START:\n        return {\n          ...state,\n          searchUsersError: null,\n          searchUsersLoading: true,\n        };\n      case UserActionTypes.USERS_SEARCH_SUCCESS:\n        return {\n          ...state,\n          searchUsersLoading: false,\n          users: action.payload.users,\n        };\n      case UserActionTypes.USERS_SEARCH_ERROR:\n        return {\n          ...state,\n          searchUsersLoading: false,\n          searchUsersError: action.payload.error,\n        };\n\n    case UserActionTypes.LOG_OUT:\n      Cookies.remove(\"AUTH\");\n      return {\n        ...state,\n        user: null,\n        token: null,\n      };\n    default:\n      return state;\n  }\n};\n\nexport default reducer;\n"]},"metadata":{},"sourceType":"module"}