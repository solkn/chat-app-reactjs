{"ast":null,"code":"import { UserActionTypes } from \"./types\";\nimport axios from \"axios\";\n/**\n * LOGIN ACTION\n * @returns ACTION\n */\n\nexport const loginStart = () => ({\n  type: UserActionTypes.LOGIN_START\n});\nexport const loginSuccess = (user, token) => ({\n  type: UserActionTypes.LOGIN_SUCCESS,\n  payload: {\n    token,\n    user\n  }\n});\nexport const loginError = error => ({\n  type: UserActionTypes.LOGIN_ERROR,\n  payload: {\n    error\n  }\n});\n/**\n * SIGNUP ACTION\n * @returns ACTION\n */\n\nexport const signUpStart = () => ({\n  type: UserActionTypes.SIGN_UP_START\n});\nexport const signUpSuccess = (user, token) => ({\n  type: UserActionTypes.SIGN_UP_SUCCESS,\n  payload: {\n    token,\n    user\n  }\n});\nexport const signUpError = error => ({\n  type: UserActionTypes.SIGN_UP_ERROR,\n  payload: {\n    error\n  }\n});\n/**\n * GET USERS ACTION\n * @returns ACTION\n \n*/\n\nexport const fetchUserStart = () => ({\n  type: UserActionTypes.USER_FETCH_START\n});\nexport const fetchUserSuccess = users => ({\n  type: UserActionTypes.USER_FETCH_SUCCESS,\n  payload: {\n    users\n  }\n});\nexport const fetchUserError = error => ({\n  type: UserActionTypes.USER_FETCH_FAILURE,\n  payload: {\n    error\n  }\n});\n/**\n * SEARCH USER ACTION\n * @returns ACTION\n */\n\nexport const searchUserStart = () => ({\n  type: UserActionTypes.USERS_SEARCH_START\n});\nexport const searchUserSuccess = users => ({\n  type: UserActionTypes.USERS_SEARCH_SUCCESS,\n  payload: {\n    users\n  }\n});\nexport const searchUserError = error => ({\n  type: UserActionTypes.USERS_SEARCH_ERROR,\n  payload: {\n    error\n  }\n});\nexport const logOut = () => ({\n  type: UserActionTypes.LOG_OUT\n});\n/**\n * Login Async Action Creator \n */\n\nexport const loginAsync = (email, password) => {\n  return async (dispatch, getState) => {\n    dispatch(loginStart());\n\n    try {\n      const response = await axios.post(\"/api/v1/users/login\", {\n        email,\n        password\n      });\n      dispatch(loginSuccess(response.data.user, response.data.token));\n      localStorage.setItem('user', JSON.stringify(response.data));\n    } catch (err) {\n      dispatch(loginError(err));\n      console.log(\"error has occcurred!\");\n    }\n  };\n};\n/**\n * SignUp Async Action Creater\n */\n\nexport const signUpAsync = (firstName, lastName, email, password) => {\n  return async (dispatch, getState) => {\n    dispatch(signUpStart());\n\n    try {\n      const response = await axios.post(\"api/v1/users/signup\", {\n        firstName,\n        lastName,\n        email,\n        password\n      });\n      dispatch(signUpSuccess(response.data.user, response.data.token));\n    } catch (err) {\n      dispatch(signUpError(err));\n    }\n  };\n};\nexport const fetchUsersAsync = () => {\n  return async (dispatch, getState) => {\n    const {\n      user: {\n        token\n      }\n    } = getState();\n\n    try {\n      dispatch(fetchUserStart());\n      const response = await axios.get(\"/api/v1/users\", {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      dispatch(fetchUserSuccess(response.data.user));\n    } catch (err) {\n      dispatch(fetchUserError(err));\n    }\n  };\n};\nexport const searchUsersAsync = query => {\n  return async (dispatch, getState) => {\n    const {\n      user: {\n        token\n      }\n    } = getState();\n\n    try {\n      dispatch(searchUserStart());\n      const response = await axios.get(\"/api/v1/users/search\", {\n        params: {\n          q: query\n        },\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      dispatch(searchUserSuccess(response.data.users));\n    } catch (err) {\n      dispatch(searchUserError(err));\n    }\n  };\n};","map":{"version":3,"sources":["/home/sol/github.com/solkn/chat_app_reactjs/src/store/user/action.js"],"names":["UserActionTypes","axios","loginStart","type","LOGIN_START","loginSuccess","user","token","LOGIN_SUCCESS","payload","loginError","error","LOGIN_ERROR","signUpStart","SIGN_UP_START","signUpSuccess","SIGN_UP_SUCCESS","signUpError","SIGN_UP_ERROR","fetchUserStart","USER_FETCH_START","fetchUserSuccess","users","USER_FETCH_SUCCESS","fetchUserError","USER_FETCH_FAILURE","searchUserStart","USERS_SEARCH_START","searchUserSuccess","USERS_SEARCH_SUCCESS","searchUserError","USERS_SEARCH_ERROR","logOut","LOG_OUT","loginAsync","email","password","dispatch","getState","response","post","data","localStorage","setItem","JSON","stringify","err","console","log","signUpAsync","firstName","lastName","fetchUsersAsync","get","headers","Authorization","searchUsersAsync","query","params","q"],"mappings":"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","sourcesContent":["import { UserActionTypes } from \"./types\";\nimport axios from \"axios\";\n\n/**\n * LOGIN ACTION\n * @returns ACTION\n */\nexport const loginStart = () => ({\n  type: UserActionTypes.LOGIN_START,\n});\n\nexport const loginSuccess = (user, token) => ({\n  type: UserActionTypes.LOGIN_SUCCESS,\n  payload: {\n    token,\n    user,\n  },\n});\n\nexport const loginError = (error) => ({\n  type: UserActionTypes.LOGIN_ERROR,\n  payload: {\n    error,\n  },\n});\n\n/**\n * SIGNUP ACTION\n * @returns ACTION\n */\nexport const signUpStart = () => ({\n  type: UserActionTypes.SIGN_UP_START,\n});\n\nexport const signUpSuccess = (user, token) => ({\n  type: UserActionTypes.SIGN_UP_SUCCESS,\n  payload: {\n    token,\n    user,\n  },\n});\n\nexport const signUpError = (error) => ({\n  type: UserActionTypes.SIGN_UP_ERROR,\n  payload: {\n    error,\n  },\n});\n\n/**\n * GET USERS ACTION\n * @returns ACTION\n \n*/\n\nexport const fetchUserStart = () => ({\n  type: UserActionTypes.USER_FETCH_START,\n});\n\nexport const fetchUserSuccess = (users) => ({\n  type: UserActionTypes.USER_FETCH_SUCCESS,\n  payload: {\n    users,\n  },\n});\n\nexport const fetchUserError = (error) => ({\n  type: UserActionTypes.USER_FETCH_FAILURE,\n  payload: {\n    error,\n  },\n});\n\n/**\n * SEARCH USER ACTION\n * @returns ACTION\n */\n export const searchUserStart = () => ({\n  type: UserActionTypes.USERS_SEARCH_START,\n});\n\nexport const searchUserSuccess = (users) => ({\n  type: UserActionTypes.USERS_SEARCH_SUCCESS,\n  payload: {\n    users,\n  },\n});\n\nexport const searchUserError = (error) => ({\n  type: UserActionTypes.USERS_SEARCH_ERROR,\n  payload: {\n    error,\n  },\n});\n\n\nexport const logOut = () => ({\n  type: UserActionTypes.LOG_OUT,\n});\n\n/**\n * Login Async Action Creator \n */\n\nexport const loginAsync = (email, password) => {\n  return async (dispatch, getState) => {\n    dispatch(loginStart());\n    try {\n      const response = await axios.post(\n        \"/api/v1/users/login\",\n        {\n          email,\n          password,\n        }\n\n      )\n      dispatch(loginSuccess(response.data.user, response.data.token));\n      \n      localStorage.setItem('user', JSON.stringify(response.data));\n      \n    } catch (err) {\n      dispatch(loginError(err));\n      console.log(\"error has occcurred!\");\n\n    }\n  };\n};\n\n/**\n * SignUp Async Action Creater\n */\n\nexport const signUpAsync = (firstName, lastName, email, password) => {\n    return async (dispatch, getState) => {\n      dispatch(signUpStart());\n      try {\n        const response = await axios.post(\n          \"api/v1/users/signup\",\n          {\n            firstName,\n            lastName,\n            email,\n            password,\n          }\n        );\n        dispatch(signUpSuccess(response.data.user, response.data.token));\n      } catch (err) {\n        dispatch(signUpError(err));\n    }\n  };\n};\n\n\nexport const fetchUsersAsync = () => {\n  return async (dispatch, getState) => {\n    const {\n      user: { token },\n    } = getState();\n\n    try {\n      dispatch(fetchUserStart());\n      const response = await axios.get(\n        \"/api/v1/users\",\n        {\n          \n          headers: {\n            Authorization: `Bearer ${token}`,\n          },\n        }\n      );\n      dispatch(fetchUserSuccess(response.data.user));\n    } catch (err) {\n      dispatch(fetchUserError(err));\n    }\n  };\n};\n\nexport const searchUsersAsync = (query) => {\n  return async (dispatch, getState) => {\n    const {\n      user: { token },\n    } = getState();\n\n    try {\n      dispatch(searchUserStart());\n      const response = await axios.get(\n        \"/api/v1/users/search\",\n        {\n          params: {\n            q: query,\n          },\n          headers: {\n            Authorization: `Bearer ${token}`,\n          },\n        }\n      );\n      dispatch(searchUserSuccess(response.data.users));\n    } catch (err) {\n      dispatch(searchUserError(err));\n    }\n  };\n};"]},"metadata":{},"sourceType":"module"}