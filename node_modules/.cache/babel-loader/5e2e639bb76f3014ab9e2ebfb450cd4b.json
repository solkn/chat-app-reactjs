{"ast":null,"code":"import { UserActionTypes } from \"./types\";\nimport Cookies from \"js-cookie\";\nconst authCookies = Cookies.get(\"AUTH\") || JSON.stringify({});\nconst INITIAL_STATE = {\n  loginLoading: false,\n  signUpLoading: false,\n  user: null,\n  token: null,\n  signUpError: null,\n  loginError: null,\n  ...JSON.parse(authCookies)\n};\n\nconst reducer = (state = INITIAL_STATE, action) => {\n  switch (action.type) {\n    case UserActionTypes.LOGIN_START:\n      return { ...state,\n        loginError: null,\n        loginLoading: true\n      };\n\n    case UserActionTypes.LOGIN_SUCCESS:\n      Cookies.set(\"AUTH\", JSON.stringify({\n        user: action.payload.user,\n        token: action.payload.token\n      }));\n      return { ...state,\n        loginLoading: false,\n        user: action.payload.user,\n        token: action.payload.token\n      };\n\n    case UserActionTypes.LOGIN_ERROR:\n      return { ...state,\n        loginLoading: false,\n        loginError: action.payload.error\n      };\n\n    case UserActionTypes.SIGN_UP_START:\n      return { ...state,\n        signUpError: null,\n        signUpLoading: true\n      };\n\n    case UserActionTypes.SIGN_UP_SUCCESS:\n      Cookies.set(\"AUTH\", JSON.stringify({\n        user: action.payload.user,\n        token: action.payload.token\n      }));\n      return { ...state,\n        signUpLoading: false,\n        user: action.payload.user,\n        token: action.payload.token\n      };\n\n    case UserActionTypes.SIGN_UP_ERROR:\n      return { ...state,\n        signUpLoading: false,\n        signUpError: action.payload.error\n      };\n\n    case UserActionTypes.LOG_OUT:\n      Cookies.remove(\"AUTH\");\n      return { ...state,\n        user: null,\n        token: null\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default reducer;","map":{"version":3,"sources":["/home/sol/github.com/solkn/chat-app-reactjs/src/store/user/reducer.js"],"names":["UserActionTypes","Cookies","authCookies","get","JSON","stringify","INITIAL_STATE","loginLoading","signUpLoading","user","token","signUpError","loginError","parse","reducer","state","action","type","LOGIN_START","LOGIN_SUCCESS","set","payload","LOGIN_ERROR","error","SIGN_UP_START","SIGN_UP_SUCCESS","SIGN_UP_ERROR","LOG_OUT","remove"],"mappings":"AAAA,SAASA,eAAT,QAAgC,SAAhC;AACA,OAAOC,OAAP,MAAoB,WAApB;AAEA,MAAMC,WAAW,GAAGD,OAAO,CAACE,GAAR,CAAY,MAAZ,KAAuBC,IAAI,CAACC,SAAL,CAAe,EAAf,CAA3C;AACA,MAAMC,aAAa,GAAG;AACpBC,EAAAA,YAAY,EAAE,KADM;AAEpBC,EAAAA,aAAa,EAAE,KAFK;AAGpBC,EAAAA,IAAI,EAAE,IAHc;AAIpBC,EAAAA,KAAK,EAAE,IAJa;AAKpBC,EAAAA,WAAW,EAAE,IALO;AAMpBC,EAAAA,UAAU,EAAE,IANQ;AAOpB,KAAGR,IAAI,CAACS,KAAL,CAAWX,WAAX;AAPiB,CAAtB;;AAUA,MAAMY,OAAO,GAAG,CAACC,KAAK,GAAGT,aAAT,EAAwBU,MAAxB,KAAmC;AACjD,UAAQA,MAAM,CAACC,IAAf;AACE,SAAKjB,eAAe,CAACkB,WAArB;AACE,aAAO,EACL,GAAGH,KADE;AAELH,QAAAA,UAAU,EAAE,IAFP;AAGLL,QAAAA,YAAY,EAAE;AAHT,OAAP;;AAKF,SAAKP,eAAe,CAACmB,aAArB;AACElB,MAAAA,OAAO,CAACmB,GAAR,CACE,MADF,EAEEhB,IAAI,CAACC,SAAL,CAAe;AACbI,QAAAA,IAAI,EAAEO,MAAM,CAACK,OAAP,CAAeZ,IADR;AAEbC,QAAAA,KAAK,EAAEM,MAAM,CAACK,OAAP,CAAeX;AAFT,OAAf,CAFF;AAOA,aAAO,EACL,GAAGK,KADE;AAELR,QAAAA,YAAY,EAAE,KAFT;AAGLE,QAAAA,IAAI,EAAEO,MAAM,CAACK,OAAP,CAAeZ,IAHhB;AAILC,QAAAA,KAAK,EAAEM,MAAM,CAACK,OAAP,CAAeX;AAJjB,OAAP;;AAMF,SAAKV,eAAe,CAACsB,WAArB;AACE,aAAO,EACL,GAAGP,KADE;AAELR,QAAAA,YAAY,EAAE,KAFT;AAGLK,QAAAA,UAAU,EAAEI,MAAM,CAACK,OAAP,CAAeE;AAHtB,OAAP;;AAMF,SAAKvB,eAAe,CAACwB,aAArB;AACE,aAAO,EACL,GAAGT,KADE;AAELJ,QAAAA,WAAW,EAAE,IAFR;AAGLH,QAAAA,aAAa,EAAE;AAHV,OAAP;;AAKH,SAAKR,eAAe,CAACyB,eAArB;AACGxB,MAAAA,OAAO,CAACmB,GAAR,CACE,MADF,EAEEhB,IAAI,CAACC,SAAL,CAAe;AACbI,QAAAA,IAAI,EAAEO,MAAM,CAACK,OAAP,CAAeZ,IADR;AAEbC,QAAAA,KAAK,EAAEM,MAAM,CAACK,OAAP,CAAeX;AAFT,OAAf,CAFF;AAOA,aAAO,EACL,GAAGK,KADE;AAELP,QAAAA,aAAa,EAAE,KAFV;AAGLC,QAAAA,IAAI,EAAEO,MAAM,CAACK,OAAP,CAAeZ,IAHhB;AAILC,QAAAA,KAAK,EAAEM,MAAM,CAACK,OAAP,CAAeX;AAJjB,OAAP;;AAMF,SAAKV,eAAe,CAAC0B,aAArB;AACE,aAAO,EACL,GAAGX,KADE;AAELP,QAAAA,aAAa,EAAE,KAFV;AAGLG,QAAAA,WAAW,EAAEK,MAAM,CAACK,OAAP,CAAeE;AAHvB,OAAP;;AAMF,SAAKvB,eAAe,CAAC2B,OAArB;AACE1B,MAAAA,OAAO,CAAC2B,MAAR,CAAe,MAAf;AACA,aAAO,EACL,GAAGb,KADE;AAELN,QAAAA,IAAI,EAAE,IAFD;AAGLC,QAAAA,KAAK,EAAE;AAHF,OAAP;;AAKF;AACE,aAAOK,KAAP;AA/DJ;AAiED,CAlED;;AAoEA,eAAeD,OAAf","sourcesContent":["import { UserActionTypes } from \"./types\";\nimport Cookies from \"js-cookie\";\n\nconst authCookies = Cookies.get(\"AUTH\") || JSON.stringify({});\nconst INITIAL_STATE = {\n  loginLoading: false,\n  signUpLoading: false,\n  user: null,\n  token: null,\n  signUpError: null,\n  loginError: null,\n  ...JSON.parse(authCookies),\n};\n\nconst reducer = (state = INITIAL_STATE, action) => {\n  switch (action.type) {\n    case UserActionTypes.LOGIN_START:\n      return {\n        ...state,\n        loginError: null,\n        loginLoading: true,\n      };\n    case UserActionTypes.LOGIN_SUCCESS:\n      Cookies.set(\n        \"AUTH\",\n        JSON.stringify({\n          user: action.payload.user,\n          token: action.payload.token,\n        })\n      );\n      return {\n        ...state,\n        loginLoading: false,\n        user: action.payload.user,\n        token: action.payload.token,\n      };\n    case UserActionTypes.LOGIN_ERROR:\n      return {\n        ...state,\n        loginLoading: false,\n        loginError: action.payload.error,\n      };\n\n    case UserActionTypes.SIGN_UP_START:\n      return {\n        ...state,\n        signUpError: null,\n        signUpLoading: true,\n      };\n   case UserActionTypes.SIGN_UP_SUCCESS:\n      Cookies.set(\n        \"AUTH\",\n        JSON.stringify({\n          user: action.payload.user,\n          token: action.payload.token,\n        })\n      );\n      return {\n        ...state,\n        signUpLoading: false,\n        user: action.payload.user,\n        token: action.payload.token,\n      };\n    case UserActionTypes.SIGN_UP_ERROR:\n      return {\n        ...state,\n        signUpLoading: false,\n        signUpError: action.payload.error,\n      };\n\n    case UserActionTypes.LOG_OUT:\n      Cookies.remove(\"AUTH\");\n      return {\n        ...state,\n        user: null,\n        token: null,\n      };\n    default:\n      return state;\n  }\n};\n\nexport default reducer;\n"]},"metadata":{},"sourceType":"module"}