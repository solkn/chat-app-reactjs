{"ast":null,"code":"import { UserActionTypes } from \"./types\";\nimport axios from \"axios\";\n/**\n * LOGIN ACTION\n * @returns ACTION\n */\n\nexport const loginStart = () => ({\n  type: UserActionTypes.LOGIN_START\n});\nexport const loginSuccess = (user, token) => ({\n  type: UserActionTypes.LOGIN_SUCCESS,\n  payload: {\n    token,\n    user\n  }\n});\nexport const loginError = error => ({\n  type: UserActionTypes.LOGIN_ERROR,\n  payload: {\n    error\n  }\n});\n/**\n * SIGNUP ACTION\n * @returns ACTION\n */\n\nexport const signUpStart = () => ({\n  type: UserActionTypes.SIGN_UP_START\n});\nexport const signUpSuccess = (user, token) => ({\n  type: UserActionTypes.SIGN_UP_SUCCESS,\n  payload: {\n    token,\n    user\n  }\n});\nexport const signUpError = error => ({\n  type: UserActionTypes.SIGN_UP_ERROR,\n  payload: {\n    error\n  }\n});\n/**\n * SERACH USER ACTION\n * @returns ACTION\n */\n\nexport const searchUserStart = () => ({\n  type: UserActionTypes.USERS_SEARCH_START\n});\nexport const searchUserSuccess = users => ({\n  type: UserActionTypes.USERS_SEARCH_SUCCESS,\n  payload: {\n    users\n  }\n});\nexport const searchUserError = error => ({\n  type: UserActionTypes.USERS_SEARCH_ERROR,\n  payload: {\n    error\n  }\n});\nexport const logOut = () => ({\n  type: UserActionTypes.LOG_OUT\n});\n/**\n * Login Async Action Creator \n */\n\nexport const loginAsync = (email, password) => {\n  return async (dispatch, getState) => {\n    dispatch(loginStart());\n\n    try {\n      const response = await axios.post(\"/api/v1/users/login\", {\n        email,\n        password\n      });\n      dispatch(loginSuccess(response.data.user, response.data.token));\n    } catch (err) {\n      dispatch(loginError(err));\n      console.log(\"error has occcurred!\");\n    }\n  };\n};\n/**\n * SignUp Async Action Creater\n */\n\nexport const signUpAsync = (firstName, lastName, email, password) => {\n  return async (dispatch, getState) => {\n    dispatch(signUpStart());\n\n    try {\n      const response = await axios.post(\"api/v1/users/signup\", {\n        firstName,\n        lastName,\n        email,\n        password\n      });\n      dispatch(signUpSuccess(response.data.user, response.data.token));\n    } catch (err) {\n      dispatch(signUpError(err));\n    }\n  };\n};\nexport const searchUsersAsync = query => {\n  return async (dispatch, getState) => {\n    const {\n      user: {\n        token\n      }\n    } = getState();\n\n    try {\n      dispatch(searchUserStart());\n      const response = await axios.get(\"/api/v1/users/search\", {\n        params: {\n          q: query\n        },\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      dispatch(searchUserSuccess(response.data.users));\n    } catch (err) {\n      dispatch(searchUserError(err));\n    }\n  };\n};","map":{"version":3,"sources":["/home/sol/github.com/solkn/chat-app-reactjs/src/store/user/action.js"],"names":["UserActionTypes","axios","loginStart","type","LOGIN_START","loginSuccess","user","token","LOGIN_SUCCESS","payload","loginError","error","LOGIN_ERROR","signUpStart","SIGN_UP_START","signUpSuccess","SIGN_UP_SUCCESS","signUpError","SIGN_UP_ERROR","searchUserStart","USERS_SEARCH_START","searchUserSuccess","users","USERS_SEARCH_SUCCESS","searchUserError","USERS_SEARCH_ERROR","logOut","LOG_OUT","loginAsync","email","password","dispatch","getState","response","post","data","err","console","log","signUpAsync","firstName","lastName","searchUsersAsync","query","get","params","q","headers","Authorization"],"mappings":"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","sourcesContent":["import { UserActionTypes } from \"./types\";\nimport axios from \"axios\";\n\n/**\n * LOGIN ACTION\n * @returns ACTION\n */\nexport const loginStart = () => ({\n  type: UserActionTypes.LOGIN_START,\n});\n\nexport const loginSuccess = (user, token) => ({\n  type: UserActionTypes.LOGIN_SUCCESS,\n  payload: {\n    token,\n    user,\n  },\n});\n\nexport const loginError = (error) => ({\n  type: UserActionTypes.LOGIN_ERROR,\n  payload: {\n    error,\n  },\n});\n\n/**\n * SIGNUP ACTION\n * @returns ACTION\n */\nexport const signUpStart = () => ({\n  type: UserActionTypes.SIGN_UP_START,\n});\n\nexport const signUpSuccess = (user, token) => ({\n  type: UserActionTypes.SIGN_UP_SUCCESS,\n  payload: {\n    token,\n    user,\n  },\n});\n\nexport const signUpError = (error) => ({\n  type: UserActionTypes.SIGN_UP_ERROR,\n  payload: {\n    error,\n  },\n});\n\n\n/**\n * SERACH USER ACTION\n * @returns ACTION\n */\n export const searchUserStart = () => ({\n  type: UserActionTypes.USERS_SEARCH_START,\n});\n\nexport const searchUserSuccess = (users) => ({\n  type: UserActionTypes.USERS_SEARCH_SUCCESS,\n  payload: {\n    users,\n  },\n});\n\nexport const searchUserError = (error) => ({\n  type: UserActionTypes.USERS_SEARCH_ERROR,\n  payload: {\n    error,\n  },\n});\n\n\nexport const logOut = () => ({\n  type: UserActionTypes.LOG_OUT,\n});\n\n/**\n * Login Async Action Creator \n */\n\nexport const loginAsync = (email, password) => {\n  return async (dispatch, getState) => {\n    dispatch(loginStart());\n    try {\n      const response = await axios.post(\n        \"/api/v1/users/login\",\n        {\n          email,\n          password,\n        }\n\n      )\n      dispatch(loginSuccess(response.data.user, response.data.token));\n    } catch (err) {\n      dispatch(loginError(err));\n      console.log(\"error has occcurred!\");\n\n    }\n  };\n};\n\n/**\n * SignUp Async Action Creater\n */\n\n export const signUpAsync = (firstName, lastName, email, password) => {\n  return async (dispatch, getState) => {\n    dispatch(signUpStart());\n    try {\n      const response = await axios.post(\n        \"api/v1/users/signup\",\n        {\n          firstName,\n          lastName,\n          email,\n          password,\n        }\n      );\n      dispatch(signUpSuccess(response.data.user, response.data.token));\n    } catch (err) {\n      dispatch(signUpError(err));\n    }\n  };\n};\n\nexport const searchUsersAsync = (query) => {\n  return async (dispatch, getState) => {\n    const {\n      user: { token },\n    } = getState();\n\n    try {\n      dispatch(searchUserStart());\n      const response = await axios.get(\n        \"/api/v1/users/search\",\n        {\n          params: {\n            q: query,\n          },\n          headers: {\n            Authorization: `Bearer ${token}`,\n          },\n        }\n      );\n      dispatch(searchUserSuccess(response.data.users));\n    } catch (err) {\n      dispatch(searchUserError(err));\n    }\n  };\n};"]},"metadata":{},"sourceType":"module"}