{"ast":null,"code":"import { MessageActionTypes } from \"./types\";\nimport axios from \"axios\";\n/**\n * MESSAGE FETCH ACTION\n * @returns ACTION\n */\n\nexport const fetchMessageStart = () => ({\n  type: MessageActionTypes.MESSAGE_FETCH_START\n});\nexport const fetchMessageSuccess = (msgFrom, msg, msgTo) => ({\n  type: MessageActionTypes.MESSAGE_FETCH_SUCCESS,\n  payload: {\n    msgFrom,\n    msg,\n    msgTo\n  }\n});\nexport const fetchMessageError = error => ({\n  type: MessageActionTypes.MESSAGE_FETCH_FAILURE,\n  payload: {\n    error\n  }\n});\n/**\n * MESSAGE CREATE ACTION\n * @returns ACTION\n */\n\nexport const createMessageStart = () => ({\n  type: MessageActionTypes.MESSAGE_CREATE_START\n});\nexport const createMessageSuccess = (msgFrom, msg, msgTo) => ({\n  type: MessageActionTypes.MESSAGE_CREATE_SUCCESS,\n  payload: {\n    msg,\n    msgFrom,\n    msgTo\n  }\n});\nexport const createMessageError = error => ({\n  type: MessageActionTypes.MESSAGE_CREATE_FAILURE,\n  payload: {\n    error\n  }\n});\n/**\n * MESSAGE UPDATE ACTION\n * @returns ACTION\n */\n\nexport const updateMessageStart = () => ({\n  type: MessageActionTypes.MESSAGE_UPDATE_START\n});\nexport const updateMessageSuccess = msg => ({\n  type: MessageActionTypes.MESSAGE_UPDATE_SUCCESS,\n  payload: {\n    msg\n  }\n});\nexport const updateMessageError = error => ({\n  type: MessageActionTypes.MESSAGE_UPDATE_FAILURE,\n  payload: {\n    error\n  }\n});\n/**\n * MESSAGE DELETE ACTION\n * @returns ACTION\n */\n\nexport const deleteMessageStart = () => ({\n  type: MessageActionTypes.MESSAGE_DELETE_START\n});\nexport const deleteMessageSuccess = msg => ({\n  type: MessageActionTypes.MESSAGE_DELETE_SUCCESS,\n  payload: {\n    msg\n  }\n});\nexport const deleteMessageError = error => ({\n  type: MessageActionTypes.MESSAGE_DELETE_FAILURE,\n  payload: {\n    error\n  }\n});\n/**\n * Message Async Action Types\n */\n\nexport const fetchMessagesAsync = () => {\n  return async (dispatch, getState) => {\n    const {\n      user: {\n        token\n      }\n    } = getState();\n\n    try {\n      dispatch(fetchMessageStart());\n      const response = await axios.get(\"/api/v1/messages\", {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      console.log(response.data);\n      dispatch(fetchMessageSuccess(response.data.msg, response.data.msgFrom, response.data.msgTo));\n    } catch (err) {\n      dispatch(fetchMessageError(err));\n    }\n  };\n};\nexport const CreateMessageAsync = (message, messageFrom, messageTo) => {\n  return async (dispatch, getState) => {\n    const {\n      user: {\n        token\n      }\n    } = getState();\n\n    try {\n      dispatch(createMessageStart());\n      const response = await axios.post(\"/api/v1/messages\", {\n        message,\n        messageFrom,\n        messageTo\n      }, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n          \"Content-Type\": \"text/json\"\n        }\n      });\n      dispatch(createMessageSuccess(response.data.msg));\n    } catch (err) {\n      dispatch(createMessageError(err));\n    }\n  };\n};\n_c = CreateMessageAsync;\nexport const updateMessageAsync = (message, messageFrom, messageTo) => {\n  return async (dispatch, getState) => {\n    const {\n      user: {\n        token\n      }\n    } = getState();\n\n    try {\n      dispatch(updateMessageStart());\n      const response = await axios.put(\"/api/v1/messages\", {\n        message,\n        messageFrom,\n        messageTo\n      }, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n          \"Content-Type\": \"text/json\"\n        }\n      });\n      dispatch(updateMessageSuccess(response.data.msg));\n    } catch (err) {\n      dispatch(updateMessageError(err));\n    }\n  };\n};\nexport const deleteMessageAsync = message => {\n  return async (dispatch, getState) => {\n    const {\n      user: {\n        token\n      }\n    } = getState();\n\n    try {\n      dispatch(deleteMessageStart());\n      const response = await axios.delete(\"/api/v1/messages\", message, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n          \"Content-Type\": \"application/json\"\n        }\n      });\n      dispatch(deleteMessageSuccess(response.data.msg));\n    } catch (err) {\n      dispatch(deleteMessageError(err));\n    }\n  };\n};\n\nvar _c;\n\n$RefreshReg$(_c, \"CreateMessageAsync\");","map":{"version":3,"sources":["/home/sol/github.com/solkn/chat-app-reactjs/src/store/message/action.js"],"names":["MessageActionTypes","axios","fetchMessageStart","type","MESSAGE_FETCH_START","fetchMessageSuccess","msgFrom","msg","msgTo","MESSAGE_FETCH_SUCCESS","payload","fetchMessageError","error","MESSAGE_FETCH_FAILURE","createMessageStart","MESSAGE_CREATE_START","createMessageSuccess","MESSAGE_CREATE_SUCCESS","createMessageError","MESSAGE_CREATE_FAILURE","updateMessageStart","MESSAGE_UPDATE_START","updateMessageSuccess","MESSAGE_UPDATE_SUCCESS","updateMessageError","MESSAGE_UPDATE_FAILURE","deleteMessageStart","MESSAGE_DELETE_START","deleteMessageSuccess","MESSAGE_DELETE_SUCCESS","deleteMessageError","MESSAGE_DELETE_FAILURE","fetchMessagesAsync","dispatch","getState","user","token","response","get","headers","Authorization","console","log","data","err","CreateMessageAsync","message","messageFrom","messageTo","post","updateMessageAsync","put","deleteMessageAsync","delete"],"mappings":"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","sourcesContent":["import { MessageActionTypes } from \"./types\";\nimport axios from \"axios\";\n\n/**\n * MESSAGE FETCH ACTION\n * @returns ACTION\n */\n\nexport const fetchMessageStart = () =>({\n     type:MessageActionTypes.MESSAGE_FETCH_START,\n});\nexport const fetchMessageSuccess = (msgFrom,msg,msgTo) =>({\n   \n  type:MessageActionTypes.MESSAGE_FETCH_SUCCESS,\n    \n   payload:{\n     msgFrom,\n     msg,\n     msgTo,\n   }\n       \n\n});\nexport const fetchMessageError = (error) =>({\n    type:MessageActionTypes.MESSAGE_FETCH_FAILURE,\n    payload:{\n        error,\n    }\n});\n\n\n/**\n * MESSAGE CREATE ACTION\n * @returns ACTION\n */\n\n export const createMessageStart = () =>({\n    type:MessageActionTypes.MESSAGE_CREATE_START,\n});\nexport const createMessageSuccess = (msgFrom,msg,msgTo) =>({\n   type:MessageActionTypes.MESSAGE_CREATE_SUCCESS,\n   payload:{\n       msg,\n       msgFrom,\n       msgTo,\n   },\n});\nexport const createMessageError = (error) =>({\n   type:MessageActionTypes.MESSAGE_CREATE_FAILURE,\n   payload:{\n       error,\n   }\n});\n\n/**\n * MESSAGE UPDATE ACTION\n * @returns ACTION\n */\n\n export const updateMessageStart = () =>({\n    type:MessageActionTypes.MESSAGE_UPDATE_START,\n});\nexport const updateMessageSuccess = (msg) =>({\n   type:MessageActionTypes.MESSAGE_UPDATE_SUCCESS,\n   payload:{\n       msg,\n   },\n});\nexport const updateMessageError = (error) =>({\n   type:MessageActionTypes.MESSAGE_UPDATE_FAILURE,\n   payload:{\n       error,\n   }\n});\n\n\n/**\n * MESSAGE DELETE ACTION\n * @returns ACTION\n */\n\n export const deleteMessageStart = () =>({\n    type:MessageActionTypes.MESSAGE_DELETE_START,\n});\nexport const deleteMessageSuccess = (msg) =>({\n   type:MessageActionTypes.MESSAGE_DELETE_SUCCESS,\n   payload:{\n       msg,\n   },\n});\nexport const deleteMessageError = (error) =>({\n   type:MessageActionTypes.MESSAGE_DELETE_FAILURE,\n   payload:{\n       error,\n   }\n});\n\n\n/**\n * Message Async Action Types\n */\n\n export const fetchMessagesAsync = () => {\n    return async (dispatch, getState) => {\n      const {\n        user: { token },\n      } = getState();\n      try {\n        dispatch(fetchMessageStart());\n        const response = await axios.get(\n          \"/api/v1/messages\",\n          {\n           \n            headers: {\n              Authorization: `Bearer ${token}`,\n            },\n          }\n        );\n\n       console.log(response.data);\n         \n        dispatch(\n          fetchMessageSuccess(\n            response.data.msg,\n            response.data.msgFrom,\n            response.data.msgTo\n            \n          )\n         \n        );\n      } catch (err) {\n        dispatch(fetchMessageError(err));\n      }\n    };\n  };\n  \n  export const CreateMessageAsync = (message,messageFrom,messageTo) => {\n    return async (dispatch, getState) => {\n      const {\n        user: { token },\n      } = getState();\n      try {\n        dispatch(createMessageStart());\n        const response = await axios.post(\n          \"/api/v1/messages\",\n          {\n              message,\n              messageFrom,\n              messageTo,\n          },\n          {\n            headers: {\n              Authorization: `Bearer ${token}`,\n              \"Content-Type\": \"text/json\",\n            },\n          }\n        );\n        dispatch(createMessageSuccess(response.data.msg));\n      } catch (err) {\n        dispatch(createMessageError(err));\n      }\n    };\n  };\n\n  export const updateMessageAsync = (message,messageFrom,messageTo) => {\n    return async (dispatch, getState) => {\n      const {\n        user: { token },\n      } = getState();\n      try {\n        dispatch(updateMessageStart());\n        const response = await axios.put(\n          \"/api/v1/messages\",\n          {\n              message,\n              messageFrom,\n              messageTo,\n          },\n          {\n            headers: {\n              Authorization: `Bearer ${token}`,\n              \"Content-Type\": \"text/json\",\n            },\n          }\n        );\n        dispatch(updateMessageSuccess(response.data.msg));\n      } catch (err) {\n        dispatch(updateMessageError(err));\n      }\n    };\n  };\n\n  export const deleteMessageAsync = (message) => {\n    return async (dispatch, getState) => {\n      const {\n        user: { token },\n      } = getState();\n      try {\n        dispatch(deleteMessageStart());\n        const response = await axios.delete(\n          \"/api/v1/messages\",\n          \n              message,\n        \n          {\n            headers: {\n              Authorization: `Bearer ${token}`,\n              \"Content-Type\": \"application/json\",\n            },\n          }\n        );\n        dispatch(deleteMessageSuccess(response.data.msg));\n      } catch (err) {\n        dispatch(deleteMessageError(err));\n      }\n    };\n  };\n\n"]},"metadata":{},"sourceType":"module"}